---
title: "plotting"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{plotting}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(rUrgAra)
```

<!-- WARNING - This vignette is generated by {fusen} from dev/flat_plot_urgara.Rmd: do not edit by hand -->

We will see in this vignette how rUrgAra can help in realizing plots.


# Plot a charge diagram

This exemple shows how to plot a charge diagram using rUrgAra's plot_diag_charge() from a table containing entry and exit date/times.


```{r example-plot_diag_charge, fig.width = 10, fig.height = 7}
library(rUrgAra)
#Table of entry/exit times
head(df_ex_charge)
#Charge diagram with exclusion of patients staying more than 3 days (72*60 = 4320 minutes)
# not taking into account strata 
list_charge = plot_diag_charge(data = df_ex_charge, entry = "ENTREE",
                               exit = "SORTIE", max_LOS = 72*60)
#plot_diag_charge return two objects, a table showing for each hour of
# the day how many patient came from what hour (-1 = day before)
head(list_charge$tab)
#a charge diagram
list_charge$plot

#adding a strata to take into account that data are coming from two hospitals
list_charge_stratified = plot_diag_charge(data = df_ex_charge, entry = "ENTREE",
                                          exit = "SORTIE", strata = "Etablissement",
                                          max_LOS = 72*60)
#plot_diag_charge return two objects, a table showing for each hour of
# the day how many patient came from what hour (-1 = day before)
head(list_charge_stratified$tab)
#a charge diagram
list_charge_stratified$plot

```


# Adding a company logo to a plot

This exemple shows how to add a company logo (by default UrgAra's) to a ggplot object.


```{r example-plot_add_logo, fig.width = 10, fig.height = 7}
library(rUrgAra)
library(ggplot2)
plot_cars = ggplot(cars, ggplot2::aes(x = speed, y = dist)) +
  geom_point() +
  ggpubr::theme_pubclean()

plot_add_logo(plot_cars)#default
plot_add_logo(plot_cars, position = "top left")#logo at the top
plot_add_logo(plot_cars, width = 0.4)#wider logo
```

  

  

<!-- # utils plot -->
<!-- ## fct_tab_charge -->
    

  

  

<!-- ## fct_plot_charge -->
    

  

  

